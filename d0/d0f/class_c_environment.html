<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kodi Documentation: CEnvironment Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Thumbnail-symbol-whitebg-small.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Kodi Documentation<span id="projectnumber">&#160;22.0</span>
   </div>
   <div id="projectbrief">Kodi is an open source media player and entertainment hub.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d0f/class_c_environment.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d2/d94/class_c_environment-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CEnvironment Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Platform-independent environment variables manipulations.  
 <a href="../../d0/d0f/class_c_environment.html#details">More...</a></p>

<p><code>#include &lt;Environment.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a906a58ac6cfcb22051d5648f6cf2f51b" id="r_a906a58ac6cfcb22051d5648f6cf2f51b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d0f/class_c_environment.html#a906a58ac6cfcb22051d5648f6cf2f51b">setenv</a> (const std::string &amp;<a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>, const std::string &amp;<a class="el" href="../../d8/d4c/addon__base_8h.html#a6036ce391edec2455b498536dc4ea03d">value</a>, <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a> overwrite=1)</td></tr>
<tr class="memdesc:a906a58ac6cfcb22051d5648f6cf2f51b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets or unsets environment variable.  <br /></td></tr>
<tr class="separator:a906a58ac6cfcb22051d5648f6cf2f51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749ee4f23169f667566e488cede65a7d" id="r_a749ee4f23169f667566e488cede65a7d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d0f/class_c_environment.html#a749ee4f23169f667566e488cede65a7d">unsetenv</a> (const std::string &amp;<a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>)</td></tr>
<tr class="memdesc:a749ee4f23169f667566e488cede65a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes environment variable.  <br /></td></tr>
<tr class="separator:a749ee4f23169f667566e488cede65a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c2c9b0fbebc4865a11a16e5ec20766" id="r_a91c2c9b0fbebc4865a11a16e5ec20766"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d0f/class_c_environment.html#a91c2c9b0fbebc4865a11a16e5ec20766">putenv</a> (const std::string &amp;envstring)</td></tr>
<tr class="memdesc:a91c2c9b0fbebc4865a11a16e5ec20766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds/modifies/deletes environment variable.  <br /></td></tr>
<tr class="separator:a91c2c9b0fbebc4865a11a16e5ec20766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05fff34732c20e9e05e810b6372e359" id="r_ab05fff34732c20e9e05e810b6372e359"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d0f/class_c_environment.html#ab05fff34732c20e9e05e810b6372e359">getenv</a> (const std::string &amp;<a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>)</td></tr>
<tr class="memdesc:ab05fff34732c20e9e05e810b6372e359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets value of environment variable in UTF-8 encoding.  <br /></td></tr>
<tr class="separator:ab05fff34732c20e9e05e810b6372e359"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Platform-independent environment variables manipulations. </p>
<p>Provide analog for POSIX functions:</p><ul>
<li>setenv</li>
<li>unsetenv</li>
<li>putenv</li>
<li>getenv</li>
</ul>
<p>You can generally use the functions as you would normally in POSIX-style. The differences below are just to make things more convenient through use of std::string (2,3), and to also allow the Win32-style of unsetting variables (4,5) if wanted.</p><ol type="1">
<li><a class="el" href="../../d0/d0f/class_c_environment.html#a906a58ac6cfcb22051d5648f6cf2f51b" title="Sets or unsets environment variable.">CEnvironment::setenv</a> parameter 'overwrite' is optional, set by default to 1 (allow overwrite).</li>
<li><a class="el" href="../../d0/d0f/class_c_environment.html#a91c2c9b0fbebc4865a11a16e5ec20766" title="Adds/modifies/deletes environment variable.">CEnvironment::putenv</a> uses copy of provided string (rather than string itself) to change environment, so you can free parameter variable right after call of function.</li>
<li><a class="el" href="../../d0/d0f/class_c_environment.html#ab05fff34732c20e9e05e810b6372e359" title="Gets value of environment variable in UTF-8 encoding.">CEnvironment::getenv</a> returns a copy of environment variable value instead of pointer to value.</li>
<li><a class="el" href="../../d0/d0f/class_c_environment.html#a906a58ac6cfcb22051d5648f6cf2f51b" title="Sets or unsets environment variable.">CEnvironment::setenv</a> can be used to unset variables. Just pass empty string for 'value' parameter.</li>
<li><a class="el" href="../../d0/d0f/class_c_environment.html#a91c2c9b0fbebc4865a11a16e5ec20766" title="Adds/modifies/deletes environment variable.">CEnvironment::putenv</a> can be used to unset variables. Set parameter to 'var=' (Windows style) or just 'var' (POSIX style), and 'var' will be unset.</li>
</ol>
<p>All 'std::string' types are supposed to be in UTF-8 encoding. All functions work on all platforms. Special care is taken on Windows platform where Environment is changed for process itself, for process runtime library and for all runtime libraries (MSVCRT) loaded by third-party modules. Functions internally make all necessary UTF-8 &lt;-&gt; wide conversions.* </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab05fff34732c20e9e05e810b6372e359" name="ab05fff34732c20e9e05e810b6372e359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab05fff34732c20e9e05e810b6372e359">&#9670;&#160;</a></span>getenv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string CEnvironment::getenv </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets value of environment variable in UTF-8 encoding. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of environment variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Copy of of environment variable value or empty string if variable in not present in environment. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>xbmc_getenvUtf8, xbmc_getenvW </dd></dl>

<p class="reference">References <a class="el" href="../../d0/d0f/class_c_environment.html#ab05fff34732c20e9e05e810b6372e359">getenv()</a>, and <a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d60/class_k_o_d_i_1_1_w_i_n_d_o_w_i_n_g_1_1_w_a_y_l_a_n_d_1_1_c_shell_surface_web_o_s_shell.html#aea557de1386ddc8c2e15eee00e3e6b62">KODI::WINDOWING::WAYLAND::CShellSurfaceWebOSShell::CShellSurfaceWebOSShell()</a>, <a class="el" href="../../df/d69/class_c_win_system_win32.html#a976a8e51d272f0c0b9bbe7ad84f35528">CWinSystemWin32::CWinSystemWin32()</a>, <a class="el" href="../../d0/d11/class_m_e_d_i_a___d_e_t_e_c_t_1_1_c_libcdio.html#a6bd410cc4d64b31f869184859c0d33e6">MEDIA_DETECT::CLibcdio::GetDeviceFileName()</a>, <a class="el" href="../../d0/d0f/class_c_environment.html#ab05fff34732c20e9e05e810b6372e359">getenv()</a>, and <a class="el" href="../../db/d98/class_c_util.html#a1999ae99eea7a367b64e289a24ac29b6">CUtil::GetHomePath()</a>.</p>

</div>
</div>
<a id="a91c2c9b0fbebc4865a11a16e5ec20766" name="a91c2c9b0fbebc4865a11a16e5ec20766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c2c9b0fbebc4865a11a16e5ec20766">&#9670;&#160;</a></span>putenv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a> CEnvironment::putenv </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>envstring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds/modifies/deletes environment variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">envstring</td><td>The variable-value string in form 'var=value'. If set to 'var=' or 'var', then variable will be deleted from the environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, non-zero on error. </dd></dl>

<p class="reference">References <a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>, <a class="el" href="../../d0/d0f/class_c_environment.html#a906a58ac6cfcb22051d5648f6cf2f51b">setenv()</a>, <a class="el" href="../../d0/d0f/class_c_environment.html#a749ee4f23169f667566e488cede65a7d">unsetenv()</a>, and <a class="el" href="../../d8/d4c/addon__base_8h.html#a6036ce391edec2455b498536dc4ea03d">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d12/class_x_b_python.html#a6c1fdbd9c7b3b0d4a6a5b5d7c64b051d">XBPython::OnScriptInitialized()</a>, and <a class="el" href="../../db/ddd/class_c_d_v_d_input_stream_navigator.html#a3c09345ab6f010315457720a6a11deae">CDVDInputStreamNavigator::Open()</a>.</p>

</div>
</div>
<a id="a906a58ac6cfcb22051d5648f6cf2f51b" name="a906a58ac6cfcb22051d5648f6cf2f51b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a906a58ac6cfcb22051d5648f6cf2f51b">&#9670;&#160;</a></span>setenv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a> CEnvironment::setenv </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a>&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets or unsets environment variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The environment variable name to add/modify/delete. </td></tr>
    <tr><td class="paramname">value</td><td>The environment variable new value. If set to empty string, variable will be deleted from the environment. </td></tr>
    <tr><td class="paramname">overwrite</td><td>(optional) If set to non-zero, existing variable will be overwritten. If set to zero and variable is already present, then variable will be unchanged and function returns success. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, non-zero on error. </dd></dl>

<p class="reference">References <a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>, and <a class="el" href="../../d8/d4c/addon__base_8h.html#a6036ce391edec2455b498536dc4ea03d">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d13/class_c_application.html#ae572733cfabd1b23f9442a1deafd1d83">CApplication::Create()</a>, <a class="el" href="../../df/d69/class_c_win_system_win32.html#a976a8e51d272f0c0b9bbe7ad84f35528">CWinSystemWin32::CWinSystemWin32()</a>, <a class="el" href="../../d7/d04/class_c_settings_component.html#af41042089443783d44044c8528e3712d">CSettingsComponent::InitDirectoriesWin32()</a>, <a class="el" href="../../dd/d71/class_c_platform_win10.html#a74643314fb724c53a8e42e8aff41dc99">CPlatformWin10::InitStageOne()</a>, <a class="el" href="../../d8/d08/class_c_platform_win32.html#a8921bad7ee3dfe89dff6ee2f5fcffa0f">CPlatformWin32::InitStageOne()</a>, <a class="el" href="../../d0/d0f/class_c_environment.html#a91c2c9b0fbebc4865a11a16e5ec20766">putenv()</a>, and <a class="el" href="../../d0/d42/_application_8cpp.html#a592d93e74b441f69334d00f42986e0e8">update_emu_environ()</a>.</p>

</div>
</div>
<a id="a749ee4f23169f667566e488cede65a7d" name="a749ee4f23169f667566e488cede65a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749ee4f23169f667566e488cede65a7d">&#9670;&#160;</a></span>unsetenv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../df/df1/kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_visualization_8h.html#a0832153a8b372b76773317b799e5f51a">int</a> CEnvironment::unsetenv </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes environment variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The environment variable name to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, non-zero on error. </dd></dl>

<p class="reference">References <a class="el" href="../../d8/d4c/addon__base_8h.html#a399367e431a6941e632f4a9631e8b64e">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d0f/class_c_environment.html#a91c2c9b0fbebc4865a11a16e5ec20766">putenv()</a>, and <a class="el" href="../../da/d9b/_win_main_8cpp.html#af14902ebc3f505fea821c569dd4731f6">WinMain()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../dd/da3/_environment_8h.html">Environment.h</a></li>
<li><a class="el" href="../../d2/ddc/_environment_8cpp.html">Environment.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d0f/class_c_environment.html">CEnvironment</a></li>
    <li class="footer">Generated on Thu Nov 7 2024 07:27:05 for Kodi Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
